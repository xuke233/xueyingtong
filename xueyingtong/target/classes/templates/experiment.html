<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8">
    <title>实验详情</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script th:src="@{/js/jquery-3.4.0.min.js}"></script>

    <script th:src="@{/js/bootstrap.js}"></script>
<!--    <script src="js/npm.js"></script>-->
    <!-- Loading Bootstrap -->
    <link th:href="@{/css/bootstrap.css}"  rel="stylesheet">
    <link th:href="@{/css/bootstrap-theme.css}"  rel="stylesheet">

    <!-- Loading Flat UI Pro -->
  </head>
  <body>
  <div th:insert="fragment/header.html"></div>
    <div class="container container-fluid">
        <div class="row">
              <div class="bg-info" style="padding: 30px;border-radius: 10px;">
                  <h2 th:text="${exp.getName()}">全加器实验</a></h2>
                  <p th:text="${exp.getIntroduction()}">用门电路设计一位全加器电路，通过设计全加器测试实际电路。掌握二进制全加器的逻辑关系与电路设计和实现的基本方法。</p>
<!--                <p class="text-danger" id="LeftTime" ></p>-->
                  <p>
                      <a class="btn btn-default" target="_blank" th:href="@{/wires}">打开画图页面</a>
                  </p>
              </div>
        </div>
        <div class="row" style="margin: 20px 0"></div>

        <div class="row" style="margin: 20px 0"></div>


        <!-- 上传区 -->
        <div class="row placeholders">
          <div class="bg-success" style="padding: 30px;border-radius: 10px;">
            <p>可以将Logism设计好的设计图上传，系统将自动对上传的文件进行评估，稍后返回评估分数。</p>
            <p>
              <form method="POST" th:action="@{/upload/{id}(id=${exp.getId()})}" enctype="multipart/form-data">
              <input class="btn btn-default" type="file" name="file" /><br/><br/>
              <input class="btn btn-success btn-lg" type="submit" role="button" value="上传到服务器" />
            </form>
            </p>

            <div th:if="${message}!=null">
              <p><span th:text="${message}">上传成功！</span><a th:href="${path}" th:text="${name}">dsfs.circ</a></p>

            <!--/*@thymesVar id="score" type=''*/-->
            <p th:if="${score}!=null">系统评估分数：
              <b th:text="${score}">100</b>
            </p>
            </div>
          </div>

        </div>
        <!-- 上传区end -->

        <div class="row" style="margin: 20px 0"></div>
        <div class="row">
            <div class="" style="padding: 30px;border-radius: 10px;">
                <h2>上传历史</h2>
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                      <thead>
                      <tr>
                        <th>#</th>
                        <th>文件名</th>
                        <th>分数</th>
                        <th>上传时间</th>
                        <th>操作</th>
                      </tr>
                      </thead>
                      <tbody class="">
                      <tr th:each="file:${files}">
                        <td scope="row" th:text="${file.id}">1</td>
                        <td><a target="_blank" th:href="${file.path}" th:text="${file.filename}">abc.circ</a></td>
                        <td th:text="${file.score}">100</td>
                        <td th:text="${file.time}">2019-03-12</td>
                        <th><button class="btn btn-default btn-sm">编辑</button> <button class="btn btn-danger btn-sm">删除</button></th>
                      </tr>
                      </tbody>
                    </table>
                  </div>
            </div>
        </div>
      

    </div>
  </body>
<!--  <script th:inline="javascript">-->
<!--      var endTime = [[${end_time}]];-->
<!--      var endtime = new Date(endTime);-->
<!--      function FreshTime()-->
<!--      {-->
<!--          var nowtime = new Date();-->
<!--          var lefttime= parseInt((endtime.getTime()-nowtime.getTime())/1000); ;-->
<!--          h= parseInt(lefttime/(60*60))%24 ;-->
<!--          m= parseInt(lefttime/(60))%60 ;-->
<!--          s= parseInt(lefttime%60);-->

<!--          document.getElementById("LeftTime").innerHTML=h+"小时"+m+"分"+s+"秒";-->

<!--          if(lefttime <0){-->
<!--              document.getElementById("LeftTime").innerHTML="已结束";-->
<!--              clearInterval(sh);-->
<!--          }-->
<!--      }-->
<!--      FreshTime()-->
<!--      var sh;-->
<!--      sh=setInterval(FreshTime,1000);-->
<!--  </script>-->
</html>
